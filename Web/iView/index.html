<h3>
    My Board
    <include iv-source="~/iview/task/_addtaskmenu.html" />
    <nav iv-type="default" iv-icon="fa-plus-circle" iv-label="User Story" iv-state="app.userstoryadd"></nav>
</h3>
<controller iv-type="default" iv-name="TaskController" iv-init="initBoard();">
    <row iv-type="default">
        <div id="portlet{{status.id}}" ng-repeat="status in taskStatuses | orderBy:'viewOrder'" portlet="portlet" class="col-lg-3 br">
            <div>{{status.title}}</div>
            <hr style="margin-bottom: 10px; margin-top: 3px">
            <div ng-repeat="task in tasks | filter: {status: status.id } | orderBy:'viewOrder'">
                <div id="panel{{task.taskId}}" class="panel panel-default">
                    <div class="progress progress-xs" style="height:4px; margin-top:0px; margin-bottom: 3px">
                        <div class="progress-bar-bg progress-bar-{{task.projectStyle}}"></div>
                        <div style="width:{{task.progress}}%;" role="progressbar" aria-valuenow="{{task.progress}}" aria-valuemin="0" aria-valuemax="100" class="progress-bar progress-bar-{{task.projectStyle}}">
                        </div>
                    </div>
                    <div ng-class="{'panel-heading-collapsed':true}" class="panel-heading portlet-handler">
                        <div dropdown="dropdown" class="btn-group">
                            <button type="button" ng-disabled="disabled" dropdown-toggle="" class="btn dropdown-toggle btn-link btn-xs color-default">
                                <em class="fa fa-bars"></em>
                            </button>
                            <include iv-source="~/iview/task/_menu.html" />
                        </div>
                        <div class="label text text-sm color-default">{{(task.projectCodeName + '-' + task.title) | truncate:true:25:' ...'}}</div>
                        <paneltool tool-collapse="tool-collapse" is-collapsed="true"></paneltool>
                    </div>
                    <div class="bg-gray-lighter" style="width: 100%; height:1px; margin-top:0px; margin-bottom: 0px "></div>
                    <div collapse="panel{{task.taskId}}" class="panel-wrapper hidden">
                        <div class="panel-footer">
                            <row iv-type="default">
                                <column iv-type="default" iv-size="3">
                                    <div class="text-center text-warning">
                                        <div>
                                            <em class="icon-users" tooltip="Member's Count">{{task.membersCount}}</em>
                                        </div>
                                    </div>
                                </column>
                                <column iv-type="default" iv-size="3">
                                    <div class="text-center text-success">
                                        <p>
                                            <em class="icon-hourglass" tooltip="Estimated Duration"> {{task.estimatedDuration}}</em>
                                        </p>
                                    </div>
                                </column>
                                <column iv-type="default" iv-size="3">
                                    <div class="text-center text-info">
                                        <p>
                                            <em class="fa fa-clock-o" tooltip="Actual Duration"> {{task.activityDuration}}</em>
                                        </p>
                                    </div>
                                </column>
                                <column iv-type="default" iv-size="3">
                                    <div class="text-center text-primary">
                                        <p>
                                            <em class="fa fa-flash" tooltip="Activities Count"> {{task.activityCount}}</em>
                                        </p>
                                    </div>
                                </column>
                            </row>
                        </div>
                        <div class="panel-body">
                            <row iv-type="default">
                                <column iv-type="default" iv-size="12">
                                    <div>
                                        <div ng-switch="task.status" class="label pull-right" ng-class="{1:'label-danger', 2:'label-warning', 3:'label-info'}[task.status]">
                                            <span ng-switch-when="1">
                                                High
                                            </span>
                                            <span ng-switch-when="2">
                                                Normal
                                            </span>
                                            <span ng-switch-when="3">
                                                Low
                                            </span>
                                        </div>
                                        <div class="pull-left mr" ng-switch="task.type">
                                            <em ng-switch-when="1" class="fa fa-circle-thin"></em>
                                            <em ng-switch-when="2" class="fa fa-phone"></em>
                                            <em ng-switch-when="3" class="fa fa-group"></em>
                                            <em ng-switch-when="4" class="fa fa-envelope-o"></em>
                                        </div>
                                        <div class="text color-default">{{task.title}}</div>
                                    </div>
                                    <div class="text-sm">
                                        Due Date: {{task.dueDate | date:'MMM dd yyyy'}}
                                    </div>
                                    <div class="text-sm">
                                        {{task.description}}
                                    </div>
                                    <p class="text-sm">
                                        Project: {{ task.projectCodeName + ' - ' + task.title }}
                                    </p>
                                    <p class="text-sm">
                                        UserStory: {{task.userStoryTitle}} Score: {{task.score}}
                                    </p>
                                    <div class="container-fluid mb mt">
                                        <div class="timeline-badge primary pull-left mr" ng-repeat="user in task.membersList">
                                            <img http-src="{{user.picture.guid}}" alt="user.displayName" class="media-box-object img-circle thumb32 center-block" title="{{user.displayName}}" />
                                        </div>
                                    </div>
                                </column>
                            </row>
                        </div>
                        <include iv-source="~/iview/task/_activityactions.html" />
                    </div>
                </div>
            </div>
        </div>
    </row>
</controller>